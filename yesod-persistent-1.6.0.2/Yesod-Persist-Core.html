<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Yesod.Persist.Core</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Yesod.Persist.Core.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">yesod-persistent-1.6.0.2: Some helpers for using Persistent from Yesod.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell98</td></tr></table><p class="caption">Yesod.Persist.Core</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Defines the core functionality of this package. This package is
 distinguished from Yesod.Persist in that the latter additionally exports the
 persistent modules themselves.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">class</span> <a href="../base-4.12.0.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> (<a href="Yesod-Persist-Core.html#t:YesodDB" title="Yesod.Persist.Core">YesodDB</a> site) =&gt; <a href="#t:YesodPersist">YesodPersist</a> site <span class="keyword">where</span><ul class="subs"><li><span class="keyword">type</span> <a href="#t:YesodPersistBackend">YesodPersistBackend</a> site</li><li><a href="#v:runDB">runDB</a> :: <a href="Yesod-Persist-Core.html#t:YesodDB" title="Yesod.Persist.Core">YesodDB</a> site a -&gt; <a href="../yesod-core-1.6.16.1/Yesod-Core-Types.html#t:HandlerFor" title="Yesod.Core.Types">HandlerFor</a> site a</li></ul></li><li class="src short"><a href="#v:defaultRunDB">defaultRunDB</a> :: <a href="../persistent-2.9.2/Database-Persist-Class.html#t:PersistConfig" title="Database.Persist.Class">PersistConfig</a> c =&gt; (site -&gt; c) -&gt; (site -&gt; <a href="../persistent-2.9.2/Database-Persist-Class.html#t:PersistConfigPool" title="Database.Persist.Class">PersistConfigPool</a> c) -&gt; <a href="../persistent-2.9.2/Database-Persist-Class.html#t:PersistConfigBackend" title="Database.Persist.Class">PersistConfigBackend</a> c (<a href="../yesod-core-1.6.16.1/Yesod-Core-Types.html#t:HandlerFor" title="Yesod.Core.Types">HandlerFor</a> site) a -&gt; <a href="../yesod-core-1.6.16.1/Yesod-Core-Types.html#t:HandlerFor" title="Yesod.Core.Types">HandlerFor</a> site a</li><li class="src short"><span class="keyword">class</span> <a href="Yesod-Persist-Core.html#t:YesodPersist" title="Yesod.Persist.Core">YesodPersist</a> site =&gt; <a href="#t:YesodPersistRunner">YesodPersistRunner</a> site <span class="keyword">where</span><ul class="subs"><li><a href="#v:getDBRunner">getDBRunner</a> :: <a href="../yesod-core-1.6.16.1/Yesod-Core-Types.html#t:HandlerFor" title="Yesod.Core.Types">HandlerFor</a> site (<a href="Yesod-Persist-Core.html#t:DBRunner" title="Yesod.Persist.Core">DBRunner</a> site, <a href="../yesod-core-1.6.16.1/Yesod-Core-Types.html#t:HandlerFor" title="Yesod.Core.Types">HandlerFor</a> site ())</li></ul></li><li class="src short"><a href="#v:defaultGetDBRunner">defaultGetDBRunner</a> :: (<a href="../persistent-2.9.2/Database-Persist-Sql-Types-Internal.html#t:IsSqlBackend" title="Database.Persist.Sql.Types.Internal">IsSqlBackend</a> backend, <a href="Yesod-Persist-Core.html#t:YesodPersistBackend" title="Yesod.Persist.Core">YesodPersistBackend</a> site ~ backend) =&gt; (site -&gt; <a href="../resource-pool-0.2.3.2/Data-Pool.html#t:Pool" title="Data.Pool">Pool</a> backend) -&gt; <a href="../yesod-core-1.6.16.1/Yesod-Core-Types.html#t:HandlerFor" title="Yesod.Core.Types">HandlerFor</a> site (<a href="Yesod-Persist-Core.html#t:DBRunner" title="Yesod.Persist.Core">DBRunner</a> site, <a href="../yesod-core-1.6.16.1/Yesod-Core-Types.html#t:HandlerFor" title="Yesod.Core.Types">HandlerFor</a> site ())</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:DBRunner">DBRunner</a> site = <a href="#v:DBRunner">DBRunner</a> {<ul class="subs"><li><a href="#v:runDBRunner">runDBRunner</a> :: <span class="keyword">forall</span> a. <a href="Yesod-Persist-Core.html#t:YesodDB" title="Yesod.Persist.Core">YesodDB</a> site a -&gt; <a href="../yesod-core-1.6.16.1/Yesod-Core-Types.html#t:HandlerFor" title="Yesod.Core.Types">HandlerFor</a> site a</li></ul>}</li><li class="src short"><a href="#v:runDBSource">runDBSource</a> :: <a href="Yesod-Persist-Core.html#t:YesodPersistRunner" title="Yesod.Persist.Core">YesodPersistRunner</a> site =&gt; <a href="../conduit-1.3.1.1/Data-Conduit.html#t:ConduitT" title="Data.Conduit">ConduitT</a> () a (<a href="Yesod-Persist-Core.html#t:YesodDB" title="Yesod.Persist.Core">YesodDB</a> site) () -&gt; <a href="../conduit-1.3.1.1/Data-Conduit.html#t:ConduitT" title="Data.Conduit">ConduitT</a> () a (<a href="../yesod-core-1.6.16.1/Yesod-Core-Types.html#t:HandlerFor" title="Yesod.Core.Types">HandlerFor</a> site) ()</li><li class="src short"><a href="#v:respondSourceDB">respondSourceDB</a> :: <a href="Yesod-Persist-Core.html#t:YesodPersistRunner" title="Yesod.Persist.Core">YesodPersistRunner</a> site =&gt; <a href="../yesod-core-1.6.16.1/Yesod-Core-Types.html#t:ContentType" title="Yesod.Core.Types">ContentType</a> -&gt; <a href="../conduit-1.3.1.1/Data-Conduit.html#t:ConduitT" title="Data.Conduit">ConduitT</a> () (<a href="../conduit-1.3.1.1/Data-Conduit.html#t:Flush" title="Data.Conduit">Flush</a> <a href="../binary-0.8.6.0/Data-Binary-Builder.html#t:Builder" title="Data.Binary.Builder">Builder</a>) (<a href="Yesod-Persist-Core.html#t:YesodDB" title="Yesod.Persist.Core">YesodDB</a> site) () -&gt; <a href="../yesod-core-1.6.16.1/Yesod-Core-Types.html#t:HandlerFor" title="Yesod.Core.Types">HandlerFor</a> site <a href="../yesod-core-1.6.16.1/Yesod-Core-Types.html#t:TypedContent" title="Yesod.Core.Types">TypedContent</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:YesodDB">YesodDB</a> site = <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Yesod-Persist-Core.html#t:YesodPersistBackend" title="Yesod.Persist.Core">YesodPersistBackend</a> site) (<a href="../yesod-core-1.6.16.1/Yesod-Core-Types.html#t:HandlerFor" title="Yesod.Core.Types">HandlerFor</a> site)</li><li class="src short"><a href="#v:get404">get404</a> :: (<a href="../base-4.12.0.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../persistent-2.9.2/Database-Persist-Class.html#t:PersistStoreRead" title="Database.Persist.Class">PersistStoreRead</a> backend, <a href="../persistent-2.9.2/Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> val backend) =&gt; <a href="../persistent-2.9.2/Database-Persist-Types.html#t:Key" title="Database.Persist.Types">Key</a> val -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m val</li><li class="src short"><a href="#v:getBy404">getBy404</a> :: (<a href="../persistent-2.9.2/Database-Persist-Class.html#t:PersistUniqueRead" title="Database.Persist.Class">PersistUniqueRead</a> backend, <a href="../persistent-2.9.2/Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> val backend, <a href="../base-4.12.0.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m) =&gt; <a href="../persistent-2.9.2/Database-Persist-Class.html#t:Unique" title="Database.Persist.Class">Unique</a> val -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../persistent-2.9.2/Database-Persist-Types.html#t:Entity" title="Database.Persist.Types">Entity</a> val)</li><li class="src short"><a href="#v:insert400">insert400</a> :: (<a href="../base-4.12.0.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../persistent-2.9.2/Database-Persist-Class.html#t:PersistUniqueWrite" title="Database.Persist.Class">PersistUniqueWrite</a> backend, <a href="../persistent-2.9.2/Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> val backend) =&gt; val -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../persistent-2.9.2/Database-Persist-Types.html#t:Key" title="Database.Persist.Types">Key</a> val)</li><li class="src short"><a href="#v:insert400_">insert400_</a> :: (<a href="../base-4.12.0.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../persistent-2.9.2/Database-Persist-Class.html#t:PersistUniqueWrite" title="Database.Persist.Class">PersistUniqueWrite</a> backend, <a href="../persistent-2.9.2/Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> val backend) =&gt; val -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m ()</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">class</span> <a href="../base-4.12.0.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> (<a href="Yesod-Persist-Core.html#t:YesodDB" title="Yesod.Persist.Core">YesodDB</a> site) =&gt; <a id="t:YesodPersist" class="def">YesodPersist</a> site <span class="keyword">where</span> <a href="src/Yesod.Persist.Core.html#YesodPersist" class="link">Source</a> <a href="#t:YesodPersist" class="selflink">#</a></p><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a id="t:YesodPersistBackend" class="def">YesodPersistBackend</a> site <a href="src/Yesod.Persist.Core.html#YesodPersistBackend" class="link">Source</a> <a href="#t:YesodPersistBackend" class="selflink">#</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:runDB" class="def">runDB</a> :: <a href="Yesod-Persist-Core.html#t:YesodDB" title="Yesod.Persist.Core">YesodDB</a> site a -&gt; <a href="../yesod-core-1.6.16.1/Yesod-Core-Types.html#t:HandlerFor" title="Yesod.Core.Types">HandlerFor</a> site a <a href="src/Yesod.Persist.Core.html#runDB" class="link">Source</a> <a href="#v:runDB" class="selflink">#</a></p><div class="doc"><p>Allows you to execute database actions within Yesod Handlers. For databases that support it, code inside the action will run as an atomic transaction.</p><h4 class="caption details-toggle-control details-toggle" data-details-id="ch:runDB0">Example Usage</h4><details id="ch:runDB0"><summary class="hide-when-js-enabled">Expand</summary><pre>userId &lt;- runDB $ do
  userId &lt;- insert $ User &quot;username&quot; &quot;email@example.com&quot;
  insert_ $ UserPreferences userId True
  pure userId</pre></details></div></div></div><div class="top"><p class="src"><a id="v:defaultRunDB" class="def">defaultRunDB</a> :: <a href="../persistent-2.9.2/Database-Persist-Class.html#t:PersistConfig" title="Database.Persist.Class">PersistConfig</a> c =&gt; (site -&gt; c) -&gt; (site -&gt; <a href="../persistent-2.9.2/Database-Persist-Class.html#t:PersistConfigPool" title="Database.Persist.Class">PersistConfigPool</a> c) -&gt; <a href="../persistent-2.9.2/Database-Persist-Class.html#t:PersistConfigBackend" title="Database.Persist.Class">PersistConfigBackend</a> c (<a href="../yesod-core-1.6.16.1/Yesod-Core-Types.html#t:HandlerFor" title="Yesod.Core.Types">HandlerFor</a> site) a -&gt; <a href="../yesod-core-1.6.16.1/Yesod-Core-Types.html#t:HandlerFor" title="Yesod.Core.Types">HandlerFor</a> site a <a href="src/Yesod.Persist.Core.html#defaultRunDB" class="link">Source</a> <a href="#v:defaultRunDB" class="selflink">#</a></p><div class="doc"><p>Helper for creating <code><a href="Yesod-Persist-Core.html#v:runDB" title="Yesod.Persist.Core">runDB</a></code>.</p><p>Since 1.2.0</p></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="Yesod-Persist-Core.html#t:YesodPersist" title="Yesod.Persist.Core">YesodPersist</a> site =&gt; <a id="t:YesodPersistRunner" class="def">YesodPersistRunner</a> site <span class="keyword">where</span> <a href="src/Yesod.Persist.Core.html#YesodPersistRunner" class="link">Source</a> <a href="#t:YesodPersistRunner" class="selflink">#</a></p><div class="doc"><p>Since 1.2.0</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:getDBRunner" class="def">getDBRunner</a> :: <a href="../yesod-core-1.6.16.1/Yesod-Core-Types.html#t:HandlerFor" title="Yesod.Core.Types">HandlerFor</a> site (<a href="Yesod-Persist-Core.html#t:DBRunner" title="Yesod.Persist.Core">DBRunner</a> site, <a href="../yesod-core-1.6.16.1/Yesod-Core-Types.html#t:HandlerFor" title="Yesod.Core.Types">HandlerFor</a> site ()) <a href="src/Yesod.Persist.Core.html#getDBRunner" class="link">Source</a> <a href="#v:getDBRunner" class="selflink">#</a></p><div class="doc"><p>This function differs from <code><a href="Yesod-Persist-Core.html#v:runDB" title="Yesod.Persist.Core">runDB</a></code> in that it returns a database
 runner function, as opposed to simply running a single action. This will
 usually mean that a connection is taken from a pool and then reused for
 each invocation. This can be useful for creating streaming responses;
 see <code><a href="Yesod-Persist-Core.html#v:runDBSource" title="Yesod.Persist.Core">runDBSource</a></code>.</p><p>It additionally returns a cleanup function to free the connection.  If
 your code finishes successfully, you <em>must</em> call this cleanup to
 indicate changes should be committed. Otherwise, for SQL backends at
 least, a rollback will be used instead.</p><p>Since 1.2.0</p></div></div></div><div class="top"><p class="src"><a id="v:defaultGetDBRunner" class="def">defaultGetDBRunner</a> :: (<a href="../persistent-2.9.2/Database-Persist-Sql-Types-Internal.html#t:IsSqlBackend" title="Database.Persist.Sql.Types.Internal">IsSqlBackend</a> backend, <a href="Yesod-Persist-Core.html#t:YesodPersistBackend" title="Yesod.Persist.Core">YesodPersistBackend</a> site ~ backend) =&gt; (site -&gt; <a href="../resource-pool-0.2.3.2/Data-Pool.html#t:Pool" title="Data.Pool">Pool</a> backend) -&gt; <a href="../yesod-core-1.6.16.1/Yesod-Core-Types.html#t:HandlerFor" title="Yesod.Core.Types">HandlerFor</a> site (<a href="Yesod-Persist-Core.html#t:DBRunner" title="Yesod.Persist.Core">DBRunner</a> site, <a href="../yesod-core-1.6.16.1/Yesod-Core-Types.html#t:HandlerFor" title="Yesod.Core.Types">HandlerFor</a> site ()) <a href="src/Yesod.Persist.Core.html#defaultGetDBRunner" class="link">Source</a> <a href="#v:defaultGetDBRunner" class="selflink">#</a></p><div class="doc"><p>Helper for implementing <code><a href="Yesod-Persist-Core.html#v:getDBRunner" title="Yesod.Persist.Core">getDBRunner</a></code>.</p><p>Since 1.2.0</p></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:DBRunner" class="def">DBRunner</a> site <a href="src/Yesod.Persist.Core.html#DBRunner" class="link">Source</a> <a href="#t:DBRunner" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:DBRunner" class="def">DBRunner</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:runDBRunner" class="def">runDBRunner</a> :: <span class="keyword">forall</span> a. <a href="Yesod-Persist-Core.html#t:YesodDB" title="Yesod.Persist.Core">YesodDB</a> site a -&gt; <a href="../yesod-core-1.6.16.1/Yesod-Core-Types.html#t:HandlerFor" title="Yesod.Core.Types">HandlerFor</a> site a</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:runDBSource" class="def">runDBSource</a> :: <a href="Yesod-Persist-Core.html#t:YesodPersistRunner" title="Yesod.Persist.Core">YesodPersistRunner</a> site =&gt; <a href="../conduit-1.3.1.1/Data-Conduit.html#t:ConduitT" title="Data.Conduit">ConduitT</a> () a (<a href="Yesod-Persist-Core.html#t:YesodDB" title="Yesod.Persist.Core">YesodDB</a> site) () -&gt; <a href="../conduit-1.3.1.1/Data-Conduit.html#t:ConduitT" title="Data.Conduit">ConduitT</a> () a (<a href="../yesod-core-1.6.16.1/Yesod-Core-Types.html#t:HandlerFor" title="Yesod.Core.Types">HandlerFor</a> site) () <a href="src/Yesod.Persist.Core.html#runDBSource" class="link">Source</a> <a href="#v:runDBSource" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Yesod-Persist-Core.html#v:runDB" title="Yesod.Persist.Core">runDB</a></code>, but transforms a <code>Source</code>. See <code><a href="Yesod-Persist-Core.html#v:respondSourceDB" title="Yesod.Persist.Core">respondSourceDB</a></code> for an
 example, practical use case.</p><p>Since 1.2.0</p></div></div><div class="top"><p class="src"><a id="v:respondSourceDB" class="def">respondSourceDB</a> :: <a href="Yesod-Persist-Core.html#t:YesodPersistRunner" title="Yesod.Persist.Core">YesodPersistRunner</a> site =&gt; <a href="../yesod-core-1.6.16.1/Yesod-Core-Types.html#t:ContentType" title="Yesod.Core.Types">ContentType</a> -&gt; <a href="../conduit-1.3.1.1/Data-Conduit.html#t:ConduitT" title="Data.Conduit">ConduitT</a> () (<a href="../conduit-1.3.1.1/Data-Conduit.html#t:Flush" title="Data.Conduit">Flush</a> <a href="../binary-0.8.6.0/Data-Binary-Builder.html#t:Builder" title="Data.Binary.Builder">Builder</a>) (<a href="Yesod-Persist-Core.html#t:YesodDB" title="Yesod.Persist.Core">YesodDB</a> site) () -&gt; <a href="../yesod-core-1.6.16.1/Yesod-Core-Types.html#t:HandlerFor" title="Yesod.Core.Types">HandlerFor</a> site <a href="../yesod-core-1.6.16.1/Yesod-Core-Types.html#t:TypedContent" title="Yesod.Core.Types">TypedContent</a> <a href="src/Yesod.Persist.Core.html#respondSourceDB" class="link">Source</a> <a href="#v:respondSourceDB" class="selflink">#</a></p><div class="doc"><p>Extends <code><a href="../yesod-core-1.6.16.1/Yesod-Core-Handler.html#v:respondSource" title="Yesod.Core.Handler">respondSource</a></code> to create a streaming database response body.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:YesodDB" class="def">YesodDB</a> site = <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> (<a href="Yesod-Persist-Core.html#t:YesodPersistBackend" title="Yesod.Persist.Core">YesodPersistBackend</a> site) (<a href="../yesod-core-1.6.16.1/Yesod-Core-Types.html#t:HandlerFor" title="Yesod.Core.Types">HandlerFor</a> site) <a href="src/Yesod.Persist.Core.html#YesodDB" class="link">Source</a> <a href="#t:YesodDB" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:get404" class="def">get404</a> :: (<a href="../base-4.12.0.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../persistent-2.9.2/Database-Persist-Class.html#t:PersistStoreRead" title="Database.Persist.Class">PersistStoreRead</a> backend, <a href="../persistent-2.9.2/Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> val backend) =&gt; <a href="../persistent-2.9.2/Database-Persist-Types.html#t:Key" title="Database.Persist.Types">Key</a> val -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m val <a href="src/Yesod.Persist.Core.html#get404" class="link">Source</a> <a href="#v:get404" class="selflink">#</a></p><div class="doc"><p>Get the given entity by ID, or return a 404 not found if it doesn't exist.</p></div></div><div class="top"><p class="src"><a id="v:getBy404" class="def">getBy404</a> :: (<a href="../persistent-2.9.2/Database-Persist-Class.html#t:PersistUniqueRead" title="Database.Persist.Class">PersistUniqueRead</a> backend, <a href="../persistent-2.9.2/Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> val backend, <a href="../base-4.12.0.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m) =&gt; <a href="../persistent-2.9.2/Database-Persist-Class.html#t:Unique" title="Database.Persist.Class">Unique</a> val -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../persistent-2.9.2/Database-Persist-Types.html#t:Entity" title="Database.Persist.Types">Entity</a> val) <a href="src/Yesod.Persist.Core.html#getBy404" class="link">Source</a> <a href="#v:getBy404" class="selflink">#</a></p><div class="doc"><p>Get the given entity by unique key, or return a 404 not found if it doesn't
   exist.</p></div></div><div class="top"><p class="src"><a id="v:insert400" class="def">insert400</a> :: (<a href="../base-4.12.0.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../persistent-2.9.2/Database-Persist-Class.html#t:PersistUniqueWrite" title="Database.Persist.Class">PersistUniqueWrite</a> backend, <a href="../persistent-2.9.2/Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> val backend) =&gt; val -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m (<a href="../persistent-2.9.2/Database-Persist-Types.html#t:Key" title="Database.Persist.Types">Key</a> val) <a href="src/Yesod.Persist.Core.html#insert400" class="link">Source</a> <a href="#v:insert400" class="selflink">#</a></p><div class="doc"><p>Create a new record in the database, returning an automatically
 created key, or raise a 400 bad request if a uniqueness constraint
 is violated.</p><p><em>Since: 1.4.1</em></p></div></div><div class="top"><p class="src"><a id="v:insert400_" class="def">insert400_</a> :: (<a href="../base-4.12.0.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="../persistent-2.9.2/Database-Persist-Class.html#t:PersistUniqueWrite" title="Database.Persist.Class">PersistUniqueWrite</a> backend, <a href="../persistent-2.9.2/Database-Persist-Class.html#t:PersistRecordBackend" title="Database.Persist.Class">PersistRecordBackend</a> val backend) =&gt; val -&gt; <a href="../mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> backend m () <a href="src/Yesod.Persist.Core.html#insert400_" class="link">Source</a> <a href="#v:insert400_" class="selflink">#</a></p><div class="doc"><p>Same as <code><a href="Yesod-Persist-Core.html#v:insert400" title="Yesod.Persist.Core">insert400</a></code>, but doesn&#8217;t return a key.</p><p><em>Since: 1.4.1</em></p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>