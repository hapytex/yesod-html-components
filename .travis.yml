sudo: false
os:
- linux
language: haskell
cabal: '2.4'
cache:
  directories:
  - "$HOME/.stack"
before_install:
- mkdir -p ~/.local/bin
- export PATH=$HOME/.local/bin:$PATH
- travis_retry curl -L https://get.haskellstack.org/stable/linux-x86_64.tar.gz | tar xz --wildcards --strip-components=1 -C ~/.local/bin '*/stack'
install:
- stack build
- stack haddock
script:
- stack --no-terminal --skip-ghc-check test
- curl -sSL https://raw.github.com/ndmitchell/hlint/master/misc/run.sh | sh -s .
deploy:
- provider: pages
  local_dir: "$(stack path --local-doc-root)"
  skip_cleanup: true
  github_token: "$GITHUB_TOKEN"
  keep_history: true
  on:
    branch: master
- provider: hackage
  username: "$HACKAGE_USER"
  password: "$HACKAGE_PASSWORD"
  skip_cleanup: true
  on:
    branch: master
env:
  global:
  - secure: rBxk3O8BL7SGZ9AD/te+Ro+VwBHumVpAn9THvye8QcrhvsGh9V0MR8BosE9Sw0f12joixZVk2R8JRq1cGkW4XSCisb88Sb02oSKVZCvFgld8F7TirdEZ85hhCpTKEcp/SN4snS3V0jQE2SnG5C/h7DUESfMVVz2S+Md8HTvW52TksnkOXXmUQ8NzIDJ87cEWy7eG/379EOMVOzoPcnK4Z5IyMDtPwWUGMmAAt9B77lRlK7Fp3cKxj26fgnn6ZDkfadiuXSd1gQdXEgHiaRlEOWVw0sNwhhUf7/gCnHSptyJBtZCOdCLo0W4qxrNbjcw7DdPtJ91VqVX0Wi8rM7NfOdb3pVctQgHxwOEdIzV0k0c6NHNx6g8zxONoGM3TpEzYbiMT5nkNlpzB8HVIkpgH6k+zqt/z2VzMJz6UitNEfIJIdnC5LF92mG0/mjuTQwGUPh5ClF+UQWA/eaK/AACnyw6Rblh9V62a5MG1ijYlNszRwjstfkw4PB9J5uevUhXz69liVg+uORurwIRyHnO8k7FOKcNQwyMojyE5q9W0qtSmykl3nmvuK6XLbD1zE8EL6CCsvGGsT7wh/fjA5ZT+y3EBFWRC1+3NJtPvi6Xzoxj/cngFa50XkmQiTxRYsTA8r9nvGXd+MqD/b2t57Bj000hAdVOcM2kQW7fLsJy22gU=
  - secure: EcZ3lt8Kz07BQSdqLUbGsWmfnXWMwSMNWDT2BwXmGElCHdTk+ZScAzOQbTGyHeyypJKy7zgakveivInsvpZEVVeTetucZCi4sk0w9sYdqO9r4vgH6G29lfdPW7MIvkHw9uMjzy4Tb53YlFSzOZnTx/Jn/3wQAjY3waHkGCKpC1IhaBC+x3HiqPmnbZGfO/R/xQC1BzJT3xL9mzoiCwMSM8PFHFLH+Ie04F3BHJw2Kaa+y/mO3NAPJkjcnKe4+/qMo+1nGNWQMaQ7ai1DxgaJeoEiWJgkni+JHybuaXFn5DKiUKfCZdYCaBDoBytrKOQmabNjVeVjM76BeLk3jCPqiaclHytmSf5PJr3+M5qq/vth+1eqBdQJbLplez1KCheKy3At3kpZ4C2loJTsRxeXKtG40oIZp1Iye/5H3RJCVlDKLCMSpLtbae28Wp6Tew24gVRUp9DlnaS1pNfIDx9NrhmlOjpWSxwkvHJ9LYsYfgxqVA5w4Ro/8C4ZEQJKGw8gWIxEK4b863Fp1ekJ7UNu8TdkysNL2HXoMoXORONKDo8p5Xfa0hBxXZI3q51tEeQH1kfT2Ha75NoBW2eKt+uL+0CXhPNINN5yXF/oaAAmDbExJvk/zgZOvB3ldlyYQ3eS1JyuAPKq8V777XzqCSORxUIksiku+Iqftvlr6DyboZg=
  - secure: W5JeiPgNyz03jwT52yFn6JK5KK4uWBZTU6GFh/YuuiSllIdvx0vCdmIbXGVAbgBnYM0L808RNBgD/P2+NTZwwnMpVgWoLWc0x53UHNEJcmen7kFdXDJ2n9o44Jy4Bv+ddoOhtRGOQ96beVm85Ux3e2T1ZAxgyI2e8AaoWe2nnhlt9Reap9cmL8X2Y/6Q+2KAnMHuh3RhW7R+lbva2mNuCwKMZYY2oMKkHGe3ocebN74MB/unfaPwrv2Fwrk+T4x1Y+juMvdepYTisiEqjH0OOjxkq5Zea7s7yj9lU1g60efL9O81nFBoY5fgel7khHCYMh1HC9xStQRRWetgY7SgDHrsfHVNDvKbN7TswVMY/LqxoYuVJoRtm5vc51zd97HfsEnd0l2VTOzkF3AN69XJet6KM9g649kPE1Nav6yCVL/LmrkEGQMuDgRSHyO71EB/cIOjRBLwkeB2ZoinSjpctdALK1mNbjkfMCQgI8yVbM0eH+n0CGG5Yht4TlQ97OH9RtIaO7zi1S3vAexEE4tpJN+rJIvqLihlbZwU2ZpQFR4kkVfDuF9OrDy/k0Rc0Ac2RwrR0n4IB5psB+FAKyIKbeB62MQ9z2/w+1JJ2Wg2zBxPVTSbLZvQnAFHd0ZyqOpVbktmUsU4FhsuqWLb0J5zfTvaHV8bM2L/wTYnUFPXq8M=
