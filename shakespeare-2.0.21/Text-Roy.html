<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Text.Roy</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Text.Roy.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">shakespeare-2.0.21: A toolkit for making compile-time interpolated templates</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell98</td></tr></table><p class="caption">Text.Roy</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Functions</a><ul><li><a href="#g:2">Template-Reading Functions</a></li></ul></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>A Shakespearean module for Roy, introducing type-safe,
 compile-time variable and url interpolation. It is exactly the same as
 <a href="Text-Julius.html">Text.Julius</a>, except that the template is first compiled to Javascript with
 the system tool <code>roy</code>.</p><p>To use this module, <code>roy</code> must be installed on your system.</p><p>If you interpolate variables,
 the template is first wrapped with a function containing javascript variables representing shakespeare variables,
 then compiled with <code>roy</code>,
 and then the value of the variables are applied to the function.
 This means that in production the template can be compiled
 once at compile time and there will be no dependency in your production
 system on <code>roy</code>. </p><p>Your code:</p><pre>let b = 1
console.log(#{a} + b)</pre><p>Final Result:</p><pre>;(function(shakespeare_var_a){
  var b = 1;
  console.log(shakespeare_var_a + b);
})(#{a});</pre><p>Further reading:</p><ol><li>Shakespearean templates: <a href="https://www.yesodweb.com/book/shakespearean-templates">https://www.yesodweb.com/book/shakespearean-templates</a></li><li>Roy: <a href="http://roy.brianmckenna.org/">http://roy.brianmckenna.org/</a></li></ol></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:roy">roy</a> :: <a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Quote.html#t:QuasiQuoter" title="Language.Haskell.TH.Quote">QuasiQuoter</a></li><li class="src short"><a href="#v:royFile">royFile</a> :: <a href="../base-4.12.0.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Q" title="Language.Haskell.TH.Syntax">Q</a> <a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Exp" title="Language.Haskell.TH.Syntax">Exp</a></li><li class="src short"><a href="#v:royFileReload">royFileReload</a> :: <a href="../base-4.12.0.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Q" title="Language.Haskell.TH.Syntax">Q</a> <a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Exp" title="Language.Haskell.TH.Syntax">Exp</a></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Functions</h1></a><a href="#g:2" id="g:2"><h2>Template-Reading Functions</h2></a><div class="doc"><p>These QuasiQuoter and Template Haskell methods return values of
 type <code><code><a href="Text-Julius.html#t:JavascriptUrl" title="Text.Julius">JavascriptUrl</a></code> url</code>. See the Yesod book for details.</p></div><div class="top"><p class="src"><a id="v:roy" class="def">roy</a> :: <a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Quote.html#t:QuasiQuoter" title="Language.Haskell.TH.Quote">QuasiQuoter</a> <a href="src/Text.Roy.html#roy" class="link">Source</a> <a href="#v:roy" class="selflink">#</a></p><div class="doc"><p>Read inline, quasiquoted Roy.</p></div></div><div class="top"><p class="src"><a id="v:royFile" class="def">royFile</a> :: <a href="../base-4.12.0.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Q" title="Language.Haskell.TH.Syntax">Q</a> <a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Exp" title="Language.Haskell.TH.Syntax">Exp</a> <a href="src/Text.Roy.html#royFile" class="link">Source</a> <a href="#v:royFile" class="selflink">#</a></p><div class="doc"><p>Read in a Roy template file. This function reads the file once, at
 compile time.</p></div></div><div class="top"><p class="src"><a id="v:royFileReload" class="def">royFileReload</a> :: <a href="../base-4.12.0.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Q" title="Language.Haskell.TH.Syntax">Q</a> <a href="../template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Exp" title="Language.Haskell.TH.Syntax">Exp</a> <a href="src/Text.Roy.html#royFileReload" class="link">Source</a> <a href="#v:royFileReload" class="selflink">#</a></p><div class="doc"><p>Read in a Roy template file. This impure function uses
 unsafePerformIO to re-read the file on every call, allowing for rapid
 iteration.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>